# http

##### http请求/响应交互模型

1. 浏览器分析超链接中的URL
2. 浏览器向DNS请求解析域名的IP
3. DNS将解析出的IP返回到浏览器
4. 浏览器（随机端口）与服务器建立TCP（80端口）链接
5. 浏览器请求web页面（index.html）
6. 服务器给出响应，将web页面发送给浏览器
7. 释放TCP连接

```diff
- 向一个网站发起查询操作时，网站需要通过数据库查询，而数据库查询则需要对应的参数，浏览器中的url地址通常在?后面是参数，以&作为分隔符隔离不同的参数
```

##### http请求方法

| get  | 获取，下载          |
| ---- | ------------------- |
| post | 上传                |
| put  | 请求存储一个web页面 |

##### http响应状态码

| 200  |          访问成功          |
| :--: | :------------------------: |
| 301  |          永久跳转          |
| 302  |          临时跳转          |
| 304  |          本地缓存          |
| 307  |          内部跳转          |
| 400  |         客户端错误         |
| 401  |          认证错误          |
| 403  |    找不到主页/权限不足     |
| 404  |        找不到该页面        |
| 500  | 内部错误（连接数据库问题） |
| 502  |       找不到后端主机       |
| 503  |         服务器过载         |
| 504  |            超时            |

#### http补充知识

| 字段       | 意义                                                         |
| ---------- | ------------------------------------------------------------ |
| User-Agent | 用户客户端应用（用户使用的浏览器）                           |
| Referer    | 浏览器给服务器的请求报文表明自身是从哪个网页/URL获得当前请求的网址/URL |
| Location   | 服务器给浏览器的回应报文中的下一重定向地址                   |
| cookie     | 服务器发送到浏览器并保存到本地的一小块数据，它会在浏览器向同一服务器再发起请求时被携带并发送到服务器上 |

http是无状态协议，各个页面之间没有联系，且http不会记录用户的任何信息，而在某些情况下访问不同的站点需要对用户进行识别时，需要通过cookie保存用户的一些信息，比如电商网站的购物车，不同的站点进行购物则需要通过cookie记录购物信息

cookie主要用于三个方面：

- 会话状态管理（如用户登陆状态、购物车、游戏分数或其他需要记录的信息）
- 个性化设置（如用户自定义设置、主题等）
- 浏览器行为追踪（如追踪分析用户行为等）

> cookie会话共享：后端服务器集群共享cookie记录文件